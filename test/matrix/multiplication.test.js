'use strict';

import { multiply, multiplyRecursive } from "../../src/matrix/multiplication";

describe('MATRIX-MULTIPLY tests', () => {
  test('happy path', () => {
    const A = [
      [5,1,3,7,1,2,7,1],
      [8,4,6,5,3,2,2,1],
      [1,2,1,1,1,1,2,1],
      [9,7,3,1,4,2,2,1],
      [5,4,1,3,4,2,1,9],
      [6,2,5,5,1,1,3,2],
      [1,1,3,1,8,8,4,3],
      [7,1,3,4,1,1,4,2]
    ];
    
    const B = [
      [3,5,4,7,6,6,1,4],
      [1,1,2,2,4,2,1,3],
      [9,1,7,2,5,5,1,2],
      [3,1,4,1,4,7,6,3],
      [1,1,3,4,8,9,1,2],
      [7,7,3,1,2,2,2,1],
      [7,4,5,2,2,1,1,3],
      [4,1,1,3,4,2,5,7]
    ];

    const C = multiply(A, B);

    expect(C).toStrictEqual([
      [132,80,116,73,107,118,68,82],
      [132,81,128,102,150,156,62,92],
      [43,26,36,26,41,37,20,31],
      [100,83,104,109,145,134,40,89],
      [98,64,79,95,137,123,82,119],
      [117,64,106,78,113,118,59,81],
      [138,93,102,73,129,128,54,73],
      [105,69,95,80,103,106,52,78],
    ]);
  });
});

describe('MATRIX-MULTIPLY-RECURSIVE tests', () => {
  test('happy path', () => {
    const A = [
      [5,1,3,7,1,2,7,1],
      [8,4,6,5,3,2,2,1],
      [1,2,1,1,1,1,2,1],
      [9,7,3,1,4,2,2,1],
      [5,4,1,3,4,2,1,9],
      [6,2,5,5,1,1,3,2],
      [1,1,3,1,8,8,4,3],
      [7,1,3,4,1,1,4,2]
    ];
    
    const B = [
      [3,5,4,7,6,6,1,4],
      [1,1,2,2,4,2,1,3],
      [9,1,7,2,5,5,1,2],
      [3,1,4,1,4,7,6,3],
      [1,1,3,4,8,9,1,2],
      [7,7,3,1,2,2,2,1],
      [7,4,5,2,2,1,1,3],
      [4,1,1,3,4,2,5,7]
    ];

    const C = [
      [0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0],
    ];

    multiplyRecursive(A, B, C);

    expect(C).toStrictEqual([
      [132,80,116,73,107,118,68,82],
      [132,81,128,102,150,156,62,92],
      [43,26,36,26,41,37,20,31],
      [100,83,104,109,145,134,40,89],
      [98,64,79,95,137,123,82,119],
      [117,64,106,78,113,118,59,81],
      [138,93,102,73,129,128,54,73],
      [105,69,95,80,103,106,52,78],
    ]);
  });
});